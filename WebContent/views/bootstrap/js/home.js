
$(function(){
    var data = {
       data: [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [{
                    "checked": "",
                    "children": [],
                    "href": "/views/content/admin/auth/userlist.jsp",
                    "icon": "",
                    "id": "3",
                    "isShow": "1",
                    "name": "审核员管理",
                    "parentId": "2"
                }, {
                    "checked": "",
                    "children": [],
                    "href": "/views/content/admin/auth/rolelist.jsp",
                    "icon": "",
                    "id": "4",
                    "isShow": "1",
                    "name": "角色管理",
                    "parentId": "2"
                }, {
                    "checked": "",
                    "children": [],
                    "href": "/views/content/admin/auth/modifyPsw.jsp",
                    "icon": "",
                    "id": "5",
                    "isShow": "1",
                    "name": "密码修改",
                    "parentId": "2"
                }],
                "href": "",
                "icon": "",
                "id": "2",
                "isShow": "1",
                "name": "审核员管理",
                "parentId": "1"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/account/mgt/accountList.jsp",
                "icon": "",
                "id": "6",
                "isShow": "1",
                "name": "账号管理",
                "parentId": "1"
            }, {
                "checked": "",
                "children": [{
                    "checked": "",
                    "children": [],
                    "href": "/views/content/auditManagement/mgt/quote/srchlist.jsp",
                    "icon": "glyphicon glyphicon-align-center",
                    "id": "8",
                    "isShow": "1",
                    "name": "挂牌平台",
                    "parentId": "7"
                }, {
                    "checked": "",
                    "children": [],
                    "href": "/views/content/auditManagement/mgt/auction/srchlist.jsp",
                    "icon": "glyphicon glyphicon-align-center",
                    "id": "9",
                    "isShow": "1",
                    "name": "竞价平台",
                    "parentId": "7"
                }, {
                    "checked": "",
                    "children": [],
                    "href": "/views/content/auditManagement/mgt/phycial/srchlist.jsp",
                    "icon": "",
                    "id": "71",
                    "isShow": "1",
                    "name": "体检平台",
                    "parentId": "7"
                }, {
                    "checked": "",
                    "children": [],
                    "href": "/views/content/auditManagement/mgt/road/srchlist.jsp",
                    "icon": "",
                    "id": "72",
                    "isShow": "1",
                    "name": "路演平台",
                    "parentId": "7"
                }],
                "href": "",
                "icon": "",
                "id": "7",
                "isShow": "1",
                "name": "认证审核",
                "parentId": "1"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/admin/message/messageSrchlist.jsp",
                "icon": "",
                "id": "10",
                "isShow": "1",
                "name": "消息管理",
                "parentId": "1"
            }],
            "href": "",
            "icon": "glyphicon glyphicon-th-list",
            "id": "1",
            "isShow": "1",
            "name": "系统管理",
            "parentId": "0"
        }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_fresh/srchlist.jsp",
                "icon": "",
                "id": "13",
                "isShow": "1",
                "name": "最新动态",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_notice/srchlist.jsp",
                "icon": "",
                "id": "14",
                "isShow": "1",
                "name": "通知公告",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/policy/srchlist.jsp",
                "icon": "",
                "id": "15",
                "isShow": "1",
                "name": "政策文件",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_stand/srchlist.jsp",
                "icon": "",
                "id": "17",
                "isShow": "1",
                "name": "新闻资讯",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/intellectual/srchlist.jsp",
                "icon": "",
                "id": "43",
                "isShow": "1",
                "name": "知识产权",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_policy/srchlist.jsp",
                "icon": "",
                "id": "60",
                "isShow": "1",
                "name": "政策扶持",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_industry/srchlist.jsp",
                "icon": "",
                "id": "61",
                "isShow": "1",
                "name": "行业动态",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/news_industry/srchlist.jsp",
                "icon": "",
                "id": "64",
                "isShow": "1",
                "name": "行业动态",
                "parentId": "12"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/articleManagement/mgt/banner/banner.jsp",
                "icon": "",
                "id": "70",
                "isShow": "1",
                "name": "banner管理",
                "parentId": "12"
            }],
            "href": "",
            "icon": "",
            "id": "12",
            "isShow": "1",
            "name": "内容管理",
            "parentId": "11"
        }, {
            "checked": "",
            "children": [],
            "href": "/views/content/articleManagement/mgt/communicate/srchlist.jsp",
            "icon": "",
            "id": "18",
            "isShow": "1",
            "name": "互动交流",
            "parentId": "11"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-list-alt",
            "id": "11",
            "isShow": "1",
            "name": "文章管理",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/alliance/srchlist.jsp",
                "icon": "",
                "id": "21",
                "isShow": "1",
                "name": "联盟制度",
                "parentId": "20"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/alliance/joinSrchlist.jsp",
                "icon": "",
                "id": "22",
                "isShow": "1",
                "name": "加盟机构",
                "parentId": "20"
            }],
            "href": "",
            "icon": "",
            "id": "20",
            "isShow": "1",
            "name": "联盟管理",
            "parentId": "19"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/demand/srchlist.jsp",
                "icon": "",
                "id": "24",
                "isShow": "1",
                "name": "需求项目审核",
                "parentId": "23"
            }],
            "href": "",
            "icon": "",
            "id": "23",
            "isShow": "1",
            "name": "需求项目管理",
            "parentId": "19"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/bide/srchlist.jsp",
                "icon": "glyphicon glyphicon-yen",
                "id": "26",
                "isShow": "1",
                "name": "竞价项目审核",
                "parentId": "25"
            }],
            "href": "",
            "icon": "",
            "id": "25",
            "isShow": "1",
            "name": "竞价项目管理",
            "parentId": "19"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/case/srchlist.jsp",
                "icon": "",
                "id": "28",
                "isShow": "1",
                "name": "服务案例审核",
                "parentId": "27"
            }],
            "href": "",
            "icon": "",
            "id": "27",
            "isShow": "1",
            "name": "服务案例管理",
            "parentId": "19"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/auctionManagement/mgt/contract/contractList.jsp",
                "icon": "",
                "id": "30",
                "isShow": "1",
                "name": "合同备案审核",
                "parentId": "29"
            }],
            "href": "",
            "icon": "",
            "id": "29",
            "isShow": "1",
            "name": "合同备案管理",
            "parentId": "19"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "19",
            "isShow": "1",
            "name": "竞价平台",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/quoteManagement/mgt/technology/srchlist.jsp",
                "icon": "glyphicon glyphicon-align-center",
                "id": "33",
                "isShow": "1",
                "name": "预挂牌审核",
                "parentId": "32"
            }, {
                "checked": "",
                "children": [],
                "href": "",
                "icon": "",
                "id": "34",
                "isShow": "1",
                "name": "专家审核",
                "parentId": "32"
            }],
            "href": "",
            "icon": "",
            "id": "32",
            "isShow": "1",
            "name": "技术管理",
            "parentId": "31"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/quoteManagement/mgt/request/srchlist.jsp",
                "icon": "",
                "id": "36",
                "isShow": "1",
                "name": "预挂牌审核",
                "parentId": "35"
            }, {
                "checked": "",
                "children": [],
                "href": "",
                "icon": "",
                "id": "37",
                "isShow": "1",
                "name": "专家审核",
                "parentId": "35"
            }],
            "href": "",
            "icon": "",
            "id": "35",
            "isShow": "1",
            "name": "需求管理",
            "parentId": "31"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "",
                "icon": "",
                "id": "39",
                "isShow": "1",
                "name": "技术经理人推荐",
                "parentId": "38"
            }],
            "href": "",
            "icon": "",
            "id": "38",
            "isShow": "1",
            "name": "技术经济人管理",
            "parentId": "31"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/quoteManagement/mgt/public/add.jsp",
                "icon": "",
                "id": "41",
                "isShow": "1",
                "name": "发布交易公示",
                "parentId": "40"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/quoteManagement/mgt/public/srchlist.jsp",
                "icon": "",
                "id": "42",
                "isShow": "1",
                "name": "交易公示审核",
                "parentId": "40"
            }],
            "href": "",
            "icon": "",
            "id": "40",
            "isShow": "1",
            "name": "交易公示",
            "parentId": "31"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "31",
            "isShow": "1",
            "name": "挂牌平台",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/contentManger/agencyList.jsp",
                "icon": "",
                "id": "48",
                "isShow": "1",
                "name": "合作机构",
                "parentId": "45"
            }],
            "href": "",
            "icon": "",
            "id": "45",
            "isShow": "1",
            "name": "内容管理",
            "parentId": "44"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/originality/projectList.jsp",
                "icon": "",
                "id": "50",
                "isShow": "1",
                "name": "项目管理",
                "parentId": "49"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/originality/expertList.jsp",
                "icon": "",
                "id": "51",
                "isShow": "1",
                "name": "专家管理",
                "parentId": "49"
            }, {
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/originality/teamList.jsp",
                "icon": "",
                "id": "52",
                "isShow": "1",
                "name": "团队管理",
                "parentId": "49"
            }],
            "href": "",
            "icon": "",
            "id": "49",
            "isShow": "1",
            "name": "创意验证",
            "parentId": "44"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/demand/srchlist.jsp",
                "icon": "",
                "id": "54",
                "isShow": "1",
                "name": "需求管理",
                "parentId": "53"
            }],
            "href": "",
            "icon": "",
            "id": "53",
            "isShow": "1",
            "name": "需求管理",
            "parentId": "44"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/pocc/mgt/reliability/srchlist.jsp",
                "icon": "",
                "id": "56",
                "isShow": "1",
                "name": "可靠性实验室",
                "parentId": "55"
            }],
            "href": "",
            "icon": "",
            "id": "55",
            "isShow": "1",
            "name": "可靠性验证",
            "parentId": "44"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "44",
            "isShow": "1",
            "name": "POCC平台",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [],
            "href": "/views/content/asseManagement/mgt/templet/templetList.jsp",
            "icon": "",
            "id": "58",
            "isShow": "1",
            "name": "模板配置",
            "parentId": "57"
        }, {
            "checked": "",
            "children": [],
            "href": "/views/content/asseManagement/mgt/quota/srchlist.jsp",
            "icon": "",
            "id": "59",
            "isShow": "1",
            "name": "指标配置",
            "parentId": "57"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "57",
            "isShow": "1",
            "name": "价值评估平台",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/luy/mgt/contentManange/partner/partner.jsp",
                "icon": "",
                "id": "67",
                "isShow": "1",
                "name": "合作伙伴",
                "parentId": "66"
            }],
            "href": "",
            "icon": "",
            "id": "66",
            "isShow": "1",
            "name": "内容管理",
            "parentId": "65"
        }, {
            "checked": "",
            "children": [{
                "checked": "",
                "children": [],
                "href": "/views/content/luy/mgt/luyManagement/luyManagement.jsp",
                "icon": "glyphicon glyphicon-align-center",
                "id": "69",
                "isShow": "1",
                "name": "路演管理",
                "parentId": "68"
            }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "68",
            "isShow": "1",
            "name": "路演管理",
            "parentId": "65"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "65",
            "isShow": "1",
            "name": "路演管理",
            "parentId": "0"
    }, {
        "checked": "",
            "children": [{
            "checked": "",
            "children": [],
            "href": "/views/content/physicalExamination/mgt/examine/srchlist.jsp",
            "icon": "",
            "id": "62",
            "isShow": "1",
            "name": "企业体检审核",
            "parentId": "73"
        }],
            "href": "",
            "icon": "glyphicon glyphicon-align-center",
            "id": "73",
            "isShow": "1",
            "name": "企业体检平台",
            "parentId": "0"
    }]    };

    var str='';
    if(data.data != null && typeof(data.data) !='undefined'){
        //遍历遍历数据
        for(var i=0; i<data.data.length;i++){

            var item = data.data[i];
            str += '<ul>';
            str += '<li>';
            if(item.name != null && typeof (item.name) != 'undefined'){
                str += '<div class="row left-nav-f">';
                str += '<label class="col-md-2"><span class="'+item.icon+'" aria-hidden="true"></span></label>';
                str += '<a ';
                if(item.href != null && typeof (item.href) != 'undefined' && item.href != ''){
                    str += 'href="'+item.href+'"';
                }
                if(item.children != null && typeof (item.children) != 'undefined'&& item.children.length > 0){
                    str += ' class = "expand"';
                } else {
                    str += 'class = "noexpand"';
                }
                    str += '><div class="col-md-8">'+item.name+'</div>';
                    if(item.children != null && typeof (item.children) != 'undefined'&& item.children.length > 0){
                        str += '<div class="col-md-offset-1"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></div>';
                    }
                    str += '</a>';
                    str += '</div>';

                str += getallchild(item);
            }

            str += '</li>';
            str += '</ul>';
        }
        $("#nav-parent").append(str);
    }


    function getallchild(item){
        var str = ''
        str += '<ul style="display: none">';
        if(item.children != null && typeof (item.children) != 'undefined'){
            for(var i = 0; i < item.children.length;i++){
                item = item.children[i];
                str += '<li>';
                str += '<div class="row left-nav-c">';
                str += '<label class="col-md-2"><span class="'+item.icon+'" aria-hidden="true"></span></label>';
                str += '<a ';
                if(item.children != null && typeof (item.children) != 'undefined'&& item.children.length > 0){
                    str += 'class = "expand"';
                }else {
                    str += 'class = "noexpand"';
                }
                str += '><div class="col-md-8">'+item.name+'</div>';

                if(item.children != null && typeof (item.children) != 'undefined'&& item.children.length > 0){
                    str += '<div class="col-md-offset-1"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></div>';
                }
                if(item.children == null || typeof (item.children) == 'undefined'|| item.children.length <= 0){
                    str += '<label class=""><span style="" class="glyphicon" aria-hidden="true"></span></label>';
                }
                str += '</a>';
                str += '</div>';
                str += '';
                if(item.children != null && typeof (item.children) != 'undefined' && item.children.length > 0){
                    str += getallchild(item);
                }
                str += '<li>';
            }
        }
        str += '</ul>';

        return str;

    }

    $(".left-nav-c").siblings('ul').children('li').addClass("left-nav-t");

    //鼠标点击的展开显示
    $(".expand").on('click',function () {
        if($(this).parent('div').siblings('ul').css('display')=='none'){
            $(this).parent('div').siblings('ul').css('display','block');
            $(this).find('span').removeClass('glyphicon-plus');
            $(this).find('span').addClass('glyphicon-minus');

        }else {
            $(this).parent('div').siblings('ul').css('display','none');
            $(this).find('span').removeClass('glyphicon-minus');
            $(this).find('span').addClass('glyphicon-plus');
        }
    })

    //鼠标点击的显示箭头
    $(".noexpand").on('click',function () {
        $("#nav-parent").find("span").each(function(index,item){
            $(this).removeClass("glyphicon-chevron-right");
        })
        $(this).find("span").addClass("glyphicon-chevron-right");
    })

})